(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1267)}])},1267:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return z}});var t=r(5893),i=r(9008),o=r(7294);function a(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function c(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){a(e,n,r[n])}))}return e}function l(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=function(e,n){if(0===n.length)return{divided:!0,children:{mid:e,left:e,right:e,top:e}};var r=l(n),t=r[0],i=r.slice(1);if(!e.divided)throw new Error("Moving down a path which is not split");return c({},e,{children:c({},e.children,a({},t,s(e.children[t],i)))})},u=function(e,n){if(0===n.length){if(e.divided)throw new Error("Rotating a path which is split");return c({},e,{orientation:e.orientation+1})}var r=l(n),t=r[0],i=r.slice(1);if(!e.divided)throw new Error("Moving down a path which is not split");return c({},e,{children:c({},e.children,a({},t,u(e.children[t],i)))})},d=function(e,n){if(0===n.length)return e;if(1===n.length){if(!e.divided)throw new Error("Merging a path which is not split");return e.children[n[0]]}var r=l(n),t=r[0],i=r.slice(1);if(!e.divided)throw new Error("Moving down a path which is not split");return c({},e,{children:c({},e.children,a({},t,d(e.children[t],i)))})},h={subdivide:s,rotate:u,merge:d},f=h.rotate(h.subdivide(h.subdivide(h.subdivide(h.subdivide({divided:!1,orientation:0},[]),["mid"]),["mid","mid"]),["mid","mid","left"]),["mid","right"]),p=r(2287),g=r.n(p),v=function(e){var n=e.values,r=e.value,i=e.setValue,a=(0,o.useCallback)((function(e){i(e.target.value)}),[i]);return(0,t.jsx)("select",{value:r,onChange:a,children:Object.keys(n).map((function(e){return(0,t.jsx)("option",{children:e},e)}))})},m=function(e){var n=e.values,r=e.value,i=e.setValue,a=(0,o.useCallback)((function(e){i(e.target.value)}),[i]);return(0,t.jsx)(t.Fragment,{children:Object.keys(n).map((function(e){return(0,t.jsxs)(o.Fragment,{children:[(0,t.jsx)(t.Fragment,{children:" "}),(0,t.jsx)("button",{disabled:e===r,value:e,onClick:a,children:e})]},e)}))})},j=r(3652),y=r.n(j),w={grayscale:y().grayscale,blackpink:y().blackpink,pastels:y().pastels},x=r(2123),b=r.n(x);function _(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(t=(a=c.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(l){i=!0,o=l}finally{try{t||null==c.return||c.return()}finally{if(i)throw o}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(e){return function(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var T=function(e){var n=e.coords,r=e.triTree,i=e.path,a=e.onClickTriangle,c=e.TriangleVisualizer,l=(0,o.useCallback)((function(){a(i)}),[a,i]);if(r.divided){var s=_(n,3),u=s[0],d=s[1],h=s[2],f=_(n,3),p=_(f[0],2),g=p[0],v=p[1],m=_(f[1],2),j=m[0],y=m[1],w=_(f[2],2),x=w[0],b=w[1],C=[(j+g)/2,(y+v)/2],M=[(j+x)/2,(y+b)/2],S=[(g+x)/2,(v+b)/2],A=r.children,N=A.mid,F=A.left,V=A.right,E=A.top;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T,{triTree:F,coords:[u,C,S],path:k(i).concat(["left"]),onClickTriangle:a,TriangleVisualizer:c}),(0,t.jsx)(T,{triTree:V,coords:[S,M,h],path:k(i).concat(["right"]),onClickTriangle:a,TriangleVisualizer:c}),(0,t.jsx)(T,{triTree:N,coords:[C,S,M],path:k(i).concat(["mid"]),onClickTriangle:a,TriangleVisualizer:c}),(0,t.jsx)(T,{triTree:E,coords:[C,d,M],path:k(i).concat(["top"]),onClickTriangle:a,TriangleVisualizer:c})]})}return(0,t.jsx)(c,{coords:n,orientation:r.orientation,path:i,onClick:l})},C=function(e){var n=e.triTree,r=e.onClickTriangle,i=e.TriangleVisualizer;return(0,t.jsx)("div",{className:b().triTreeVisualizer,children:(0,t.jsx)("svg",{viewBox:"0 0 1000 866",children:(0,t.jsx)(T,{triTree:n,coords:[[0,0],[500,866],[1e3,0]],path:[],onClickTriangle:r,TriangleVisualizer:i})})})},M=r(1796),S=r.n(M);function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(t=(a=c.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(l){i=!0,o=l}finally{try{t||null==c.return||c.return()}finally{if(i)throw o}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var N=function(e){var n=e.coords,r=e.orientation,i=e.socketCount,o=e.socketNumber,a=e.sweepFlag,c=2*i,l=A(n.map((function(e,t){return n[(t+r)%n.length]})),3),s=A(l[0],2),u=s[0],d=s[1],h=A(l[1],2),f=h[0],p=h[1],g=A(l[2],2),v=c-2*o-1,m=2*o+1,j=[(u*v+g[0]*m)/c,(d*v+g[1]*m)/c],y=[(u*v+f*m)/c,(d*v+p*m)/c],w=Math.sqrt(Math.pow(u-j[0],2)+Math.pow(d-j[1],2));return(0,t.jsx)("path",{d:"M ".concat(j.join(" ")," A ").concat(w," ").concat(w," 0 0 ").concat(a," ").concat(y.join(" ")),className:S().circleSection,strokeWidth:4})},F=function(e){var n=e.coords,r=e.orientation,i=e.socketCount,o=e.socketNumber,a=e.sweepFlag,c=2*i,l=A(n.map((function(e,t){return n[(t+r)%n.length]})),3),s=A(l[0],2),u=s[0],d=s[1],h=A(l[1],2),f=h[0],p=h[1],g=A(l[2],2),v=g[0],m=g[1],j=4/Math.sqrt(Math.pow(u-f,2)+Math.pow(d-p,2))*c/2,y=c-2*o-1+j,w=2*o+1-j,x=[(u*y+v*w)/c,(d*y+m*w)/c],b=[(u*y+f*w)/c,(d*y+p*w)/c],_=Math.sqrt(Math.pow(u-x[0],2)+Math.pow(d-x[1],2));return(0,t.jsx)("path",{d:"M ".concat(u," ").concat(d," L ").concat(x.join(" ")," A ").concat(_," ").concat(_," 0 0 ").concat(a," ").concat(b.join(" ")," Z"),className:S().circleCover})};function V(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(t=(a=c.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(l){i=!0,o=l}finally{try{t||null==c.return||c.return()}finally{if(i)throw o}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E={CircleSections:function(e){var n=e.coords,r=e.orientation,i=e.path,o=e.onClick,a=7-i.length;if(a<0)return(0,t.jsx)(t.Fragment,{});var c=n.map((function(e){return e.join(",")})).join(" "),l=Math.pow(2,a),s=a>=2?Math.pow(2,a-2):0,u=l-s,d=a>=2?Math.pow(2,a-1)+1:0,h=a>=2?Math.pow(2,a-1)-1:0,f=(1+i.length+i.filter((function(e){return"mid"!==e})).length)%2;return(0,t.jsxs)(t.Fragment,{children:[Array(d).fill(null).map((function(e,i){return(0,t.jsx)(N,{coords:n,orientation:r+1,socketCount:l,socketNumber:i,sweepFlag:f},i)})),Array(h).fill(null).map((function(e,i){return(0,t.jsx)(N,{coords:n,orientation:r+2,socketCount:l,socketNumber:i,sweepFlag:f},i)})),(0,t.jsx)(F,{coords:n,orientation:r,socketCount:l,socketNumber:u,sweepFlag:f}),Array(u).fill(null).map((function(e,i){return(0,t.jsx)(N,{coords:n,orientation:r,socketCount:l,socketNumber:i,sweepFlag:f},i)})),(0,t.jsx)("polygon",{points:c,className:S().interactionHelper,onClick:o})]})},Triangles:function(e){var n=e.coords,r=e.orientation,i=e.path,o=e.onClick,a=n.map((function(e){return e.join(",")})).join(" "),c=r+i.reduce((function(e,n){return e+{mid:0,left:1,right:3,top:2}[n]}),0),l="var(--color".concat(c%8,")");return(0,t.jsx)("polygon",{points:a,"data-path":i.join(","),"data-orientation":r,style:{fill:l},onClick:o})},Arrows:function(e){var n=e.coords,r=e.orientation,i=(e.path,e.onClick),o=V(n.map((function(e,t){return n[(t+r)%n.length]})),3),a=V(o[0],2),c=a[0],l=a[1],s=o[1],u=V(o[2],2),d=u[0],h=u[1],f=[[(c+c+d)/3,(l+l+h)/3],s,[(c+d+d)/3,(l+h+h)/3]].map((function(e){return e.join(",")})).join(" ");return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("polygon",{points:f,style:{fill:"var(--colorPrimary)"},onClick:i})})}},O=function(){var e=(0,o.useState)(!0),n=e[0],r=e[1],i=(0,o.useState)(f),a=i[0],c=i[1],l=(0,o.useState)("subdivide"),s=l[0],u=l[1],d=(0,o.useState)("CircleSections"),p=d[0],j=d[1],y=(0,o.useState)("grayscale"),x=y[0],b=y[1],_=(0,o.useCallback)((function(e){c((function(n){return h[s](n,e)}))}),[s]);return(0,t.jsxs)("div",{className:"".concat(w[x]," ").concat(g().theme),children:[(0,t.jsxs)("main",{className:g().main,children:[(0,t.jsx)(C,{triTree:a,onClickTriangle:_,TriangleVisualizer:E[p]}),(0,t.jsxs)("aside",{className:g().controls,children:[(0,t.jsx)("button",{title:n?"collapse controls":"expand controls",onClick:function(){return r((function(e){return!e}))},children:n?"-":"+"}),n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:g().title,children:" Tritreeeee"}),(0,t.jsx)(m,{values:h,value:s,setValue:u}),(0,t.jsx)(t.Fragment,{children:" "}),(0,t.jsx)(v,{values:E,value:p,setValue:j}),(0,t.jsx)(t.Fragment,{children:" "}),(0,t.jsx)(v,{values:w,value:x,setValue:b})]})]})]}),n&&(0,t.jsxs)("footer",{className:g().footer,children:["Made 2022 by Bernhard H\xe4ussner \u2013 ",(0,t.jsx)("a",{href:"https://github.com/bxt/tritreeeee",target:"_blank",rel:"noopener noreferrer",children:"Code on GitHub"})]})]})},z=function(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.default,{children:[(0,t.jsx)("title",{children:"Tritreeeee"}),(0,t.jsx)("meta",{name:"description",content:"Build your own Tritree for fun"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)(O,{})]})}},2287:function(e){e.exports={theme:"Main_theme__NElIF",main:"Main_main__m2Vt2",controls:"Main_controls__879_R",footer:"Main_footer___QY_3",title:"Main_title___17TJ",triContainer:"Main_triContainer__5Co2G"}},2123:function(e){e.exports={triTreeVisualizer:"TriTreeVisualizer_triTreeVisualizer__wij2T"}},3652:function(e){e.exports={grayscale:"themes_grayscale__zUPj_",blackpink:"themes_blackpink__3LiSq",pastels:"themes_pastels__j_2dx"}},1796:function(e){e.exports={circleSection:"CircleSections_circleSection__s0Gat",circleCover:"CircleSections_circleCover__l1xuL",interactionHelper:"CircleSections_interactionHelper__tUyxT"}},9008:function(e,n,r){e.exports=r(5443)}},function(e){e.O(0,[774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);